RewriteEngine On
RewriteBase /

# Protect sensitive files and directories
RewriteRule ^\.env$ - [F,L]
RewriteRule ^\.env\.example$ - [F,L]
RewriteRule ^data/ - [F,L]
RewriteRule ^includes/ - [F,L]

# Don't rewrite existing files/directories
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Route everything through index.php
RewriteRule ^(.*)$ index.php?route=$1 [QSA,L]
